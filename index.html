<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>MB & Nath ‚Äî Nosso Cantinho 2.2 üíú</title>
  <style>
    :root{
      --bg1:#1a0026;
      --bg2:#30003f;
      --accent:#b76cff;
      --text:#f5eefc;
      --muted:#cdbbe6;
      --card:rgba(255,255,255,0.05);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{
      height:100vh;
      font-family:Inter,system-ui,Arial;
      background:linear-gradient(120deg,var(--bg1),var(--bg2));
      color:var(--text);
      display:flex;
      justify-content:center;
      align-items:center;
      padding:20px;
      overflow:hidden;
    }

    .app{
      width:100%;
      max-width:960px;
      background:var(--card);
      border-radius:16px;
      padding:20px;
      backdrop-filter:blur(8px);
      box-shadow:0 8px 30px rgba(0,0,0,0.4);
      position:relative;
      z-index:2;
    }

    header{
      display:flex;
      align-items:center;
      gap:12px;
      margin-bottom:16px;
    }

    .badge{
      background:linear-gradient(135deg,var(--accent),#6f2bd6);
      width:54px;height:54px;
      border-radius:14px;
      display:flex;align-items:center;justify-content:center;
      font-size:26px;box-shadow:0 6px 20px rgba(103,45,160,0.3);
    }

    h1{font-size:20px;margin:0}
    p.lead{font-size:13px;color:var(--muted)}

    .grid{display:grid;grid-template-columns:280px 1fr;gap:16px}
    .card{background:rgba(255,255,255,0.03);border-radius:12px;padding:14px}

    .profile-switch{display:flex;gap:8px;margin-top:4px}
    .profile-btn{
      flex:1;padding:8px;border-radius:10px;background:transparent;
      border:1px solid rgba(255,255,255,0.1);
      color:var(--muted);cursor:pointer;font-weight:600;
    }
    .profile-btn.active{
      background:linear-gradient(90deg,rgba(183,108,255,0.2),rgba(111,43,214,0.2));
      color:var(--text);
      border-color:rgba(183,108,255,0.4);
    }

    .saldo{
      background:rgba(255,255,255,0.04);
      border-radius:10px;
      padding:10px;margin-top:10px;
    }
    .saldo .value{font-size:26px;font-weight:700;color:var(--accent)}
    .saldo small{color:var(--muted)}

    .actions{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .btn{
      padding:10px;border-radius:10px;border:0;cursor:pointer;
      font-weight:600;
      background:var(--accent);color:#1a001a;
    }
    .btn.ghost{
      background:transparent;border:1px solid rgba(255,255,255,0.08);
      color:var(--muted);
    }

    .heart{
      width:140px;height:140px;border-radius:50%;
      display:grid;place-items:center;
      background:radial-gradient(circle at 30% 30%,rgba(255,255,255,0.04),rgba(0,0,0,0.1));
      box-shadow:inset 0 2px 8px rgba(255,255,255,0.05),0 8px 30px rgba(183,108,255,0.25);
      cursor:pointer;transition:transform 0.15s ease;
    }
    .heart:hover{transform:scale(1.05)}
    .heart:active{transform:scale(0.95)}

    .last-win{text-align:center;margin-top:8px;font-size:13px;color:var(--muted)}

    .history{
      background:rgba(0,0,0,0.15);
      border-radius:10px;
      padding:8px;
      font-size:13px;
      max-height:160px;overflow:auto;
    }

    footer{text-align:center;color:var(--muted);font-size:12px;margin-top:8px}

    /* Floating hearts animation */
    .floating-heart{
      position:fixed;
      color:#ffb3ef;
      animation:floatUp 5s linear forwards;
      opacity:0.8;
      z-index:1;
    }
    @keyframes floatUp{
      0%{transform:translateY(0) scale(1);opacity:1}
      100%{transform:translateY(-400px) scale(1.8);opacity:0}
    }

    @media(max-width:820px){
      .grid{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>
  <!-- Som embutido via URL -->
  <audio id="coin-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_efad899b2f.mp3?filename=magic-bonus-89070.mp3" preload="auto"></audio>

  <div class="app">
    <header>
      <div class="badge">üíú</div>
      <div>
        <h1>MB & Nath ‚Äî Nosso Cantinho üíï</h1>
        <p class="lead">Joguem, ganhem moedas e vejam quanto tempo j√° est√£o juntinhos! ‚ú®</p>
      </div>
    </header>

    <div class="grid">
      <aside>
        <div>
          <strong>Entrar como</strong>
          <div class="profile-switch">
            <button class="profile-btn" id="btn-mb">MB</button>
            <button class="profile-btn" id="btn-nath">Nath</button>
          </div>
        </div>

        <div class="saldo">
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <div>
              <small>Saldo</small>
              <div class="value" id="saldo">0</div>
              <small id="days">Dias juntos: ‚Äî</small>
            </div>
            <div>
              <button class="btn ghost" id="btn-reset">Reset</button>
            </div>
          </div>
        </div>

        <div class="actions">
          <button class="btn" id="btn-play-small">Jogar ‚ù§Ô∏è</button>
          <button class="btn ghost" id="btn-sobre">Nossa hist√≥ria</button>
        </div>

        <div class="card" style="margin-top:10px">
          <strong>Hist√≥rico</strong>
          <div class="history" id="history">Nenhuma a√ß√£o ainda.</div>
        </div>
      </aside>

      <main>
        <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;height:100%">
          <div class="heart" id="heart">
            <svg width="86" height="86" viewBox="0 0 24 24" fill="none">
              <path d="M12 21s-7-4.35-9-6.37C1.31 12.73 2.2 9 5.2 7.2 7.04 6.09 9.4 6.5 11 8.06 12.6 6.5 14.96 6.09 16.8 7.2c3 1.8 3.89 5.53 2.2 7.43C19 16.65 12 21 12 21z" fill="url(#g)"/>
              <defs><linearGradient id="g" x1="0" x2="1"><stop offset="0" stop-color="#ffd3ff"/><stop offset="1" stop-color="#b76cff"/></linearGradient></defs>
            </svg>
          </div>
          <div class="last-win" id="last-win">Clique no cora√ß√£o para ganhar moedas!</div>
        </div>
      </main>
    </div>

    <footer>Feito com üíú por MB & Nath ‚Äî vers√£o 2.2</footer>
  </div>

  <script>
    const btnMB = document.getElementById('btn-mb');
    const btnNath = document.getElementById('btn-nath');
    const saldoEl = document.getElementById('saldo');
    const historyEl = document.getElementById('history');
    const heart = document.getElementById('heart');
    const lastWin = document.getElementById('last-win');
    const daysEl = document.getElementById('days');
    const resetBtn = document.getElementById('btn-reset');
    const coinSound = document.getElementById('coin-sound');

    let currentUser = localStorage.getItem('user') || 'MB';
    let data = JSON.parse(localStorage.getItem('data') || '{}');

    if(!data.MB) data.MB = {saldo:0,history:[]};
    if(!data.Nath) data.Nath = {saldo:0,history:[]};

    function saveData(){
      localStorage.setItem('data',JSON.stringify(data));
      localStorage.setItem('user',currentUser);
    }

    function render(){
      btnMB.classList.toggle('active',currentUser==='MB');
      btnNath.classList.toggle('active',currentUser==='Nath');
      saldoEl.textContent = data[currentUser].saldo;
      historyEl.innerHTML = data[currentUser].history.length ? data[currentUser].history.map(i=>`‚Ä¢ ${i}`).join('<br>') : 'Nenhuma a√ß√£o ainda.';
      document.documentElement.style.setProperty('--accent', currentUser==='MB' ? '#b76cff' : '#ff70c0');
      document.documentElement.style.setProperty('--bg1', currentUser==='MB' ? '#1a0026' : '#400020');
      document.documentElement.style.setProperty('--bg2', currentUser==='MB' ? '#30003f' : '#6a0045');
    }

    function addHistory(msg){
      data[currentUser].history.unshift(msg);
      if(data[currentUser].history.length>50) data[currentUser].history.pop();
    }

    btnMB.onclick = ()=>{currentUser='MB';saveData();render();}
    btnNath.onclick = ()=>{currentUser='Nath';saveData();render();}

    // Permite som ap√≥s primeira intera√ß√£o
    let soundAllowed = false;
    document.body.addEventListener('click', ()=>{
      if(!soundAllowed){
        coinSound.play().catch(()=>{});
        coinSound.pause();
        coinSound.currentTime = 0;
        soundAllowed = true;
      }
    }, {once:true});

    heart.onclick = ()=>{
      if(!soundAllowed) return;
      const ganho = Math.floor(Math.random()*5)+1;
      data[currentUser].saldo += ganho;
      addHistory(`+${ganho} moedas ao clicar no cora√ß√£o ‚ù§Ô∏è`);
      saveData();
      render();
      lastWin.textContent = `Voc√™ ganhou +${ganho} moedas!`;
      coinSound.currentTime=0;
      coinSound.play();

      const emoji = document.createElement('div');
      emoji.textContent='üíñ';
      emoji.className='floating-heart';
      emoji.style.left=Math.random()*window.innerWidth+'px';
      emoji.style.bottom='0px';
      emoji.style.fontSize=(Math.random()*20+16)+'px';
      document.body.appendChild(emoji);
      setTimeout(()=>emoji.remove(),5000);
    }

    resetBtn.onclick = ()=>{
      if(confirm('Tem certeza que quer zerar o saldo e hist√≥rico deste perfil?')){
        data[currentUser] = {saldo:0,history:[]};
        saveData();render();
      }
    }

    // Dias juntos desde 16/03/2024
    const startDate = new Date(2024,2,16);
    function updateDays(){
      const now = new Date();
      const diff = Math.floor((now - startDate)/(1000*60*60*24));
      daysEl.textContent = `Dias juntos: ${diff} üíï`;
    }
    updateDays();

    render();
  </script>
</body>
</html>


